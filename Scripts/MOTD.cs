using Sandbox.ModAPI;
using VRage.Game.Components;

namespace Yurand2000Mods.MOTD
{
    [MySessionComponentDescriptor(MyUpdateOrder.NoUpdate)]
    public class MyMOTD : MySessionComponentBase
    {
        private string Title = "Welcome to the Realm of Mistvalin";
        private string Description = "============================================= Info: ------------------------------------------------------------ The Realm Of Mistvalin is a Fantasy Sandbox-MMORPG and acts more like a DLC to Medieval Engineers than a normal mod. You can join the Public Steam Group to get notifications on updates, events, and find other players playing RoM. You dont have to join the steam group, but many people do inorder to get help or post concerns. Their is also an option to vote for the server on the group's main page. If you'ed like to donate to the server, you can through the group page's link that will take you to Ping Perfect's website. Donating is completely optional and you're always free to decline. Down below you'll find rules and tips on how to play RoM. ============================================= How is RoM Different? ------------------------------------------------------------ In RoM, resources are scattered. Meaning some land is more valuable then others. Players are also concentrated to only one part of the world. This also allows RoM to utalize 1/6th of the world, making it less intense on your PC. RoM also has redone the research system to add in professions players can choose. While all professions are available, it's recommended to only choose one or two professions, and team up with someone else to divide up the effort. Though, while you -can- do every profession it takes a very long time to research everything. Dividing the effort makes it much easier. All of these factors create an important situation in RoM, 'Nobody can do everything'. This has caused players to be more open to trading and diplomacy inorder to aquire resources they lack and sell resources they boast in. This also gives reasons to go to war. In vanilla, everyone has everything and can do everything. Why go to war? Though here, if your neighbor has a skilled farmer, you could buy seeds or crops from them. And if your other neighbor has an ore deposit, you may be inclined to take it from them if you dont want to buy it. Their are reasons to go to war in RoM. Shortages of resources, player progression, NPC Factions and Economey. You can sell items to markets in NPC towns, as well as acquire 'Gold Coins' to pay claims with or trade people. The worth of Gold Coins are weighted in claim time and give a better bonus to claim time. 10 logs = 10 hours and 10 logs (in coins) = 11 hours. While having a large stack count, it makes them ideal or storing claim time in other ways. Gold Coins are also used to buy items from NPC markets. All these factors give a truely unique feeling within RoM's Server. =============================================  Rules: ============================================= [1 No Offline Raiding] ------------------------------------------------------------ If someone is offline, you cannot raid/grief/attack anything upon a claimed territory. Though, if someone leaves their doors opened, you can only steal from them. Please lock your doors! Unclaimed territory is free range, you can raid/steal/attack/reclaim. We have logs for detecting greifers. First offence is perma ban. ============================================= [2 You Must 'Declare' Wars] ------------------------------------------------------------ Wars are a formal thing in RoM, something you must communicate to your opponent. If you want to go to war, you must tell that person you're going to war. You must then go to the forums and write a post under 'RP Forum - Diplomacy' discussing your terms for the battle. Both parties will discuss their terms of war before combat happens. These terms of war can be conditions for victory or areas of battle. As an example from a past war: 'Both attacker and defender agree to not attack eachother's main base, and only the secondary base'. People can be very creative with terms of war, but if one party declines all terms, that's that. The defender is at the mercy of the attacker. Though it may backfire if the attacker then loses. Their is then a 24 hour wait period untill fighting may begin. No offline attacks, 2+ people must be online for a 'battle' to commence. If said faction has 1 person, then it's defaulted to 1 person online. Though, if both parties (attacker and defender) agree to not do the 24 hour wait period in the conditions and terms, battle may start immediately. Be creative with terms, they're -your- war's rules, not the server's. ============================================= [3 Keep Faction Names In-character] ------------------------------------------------------------ This means, you cannot name your faction 'Super Cool Raiding Team'. This is a Light-Role Play server filled with story and emersion. It's important that we have house/faction names that are realistic or 'role play' like. If your faction has a silly name that's not in-character and breaks emersion, it will be changed automatically. ============================================= [4 No Inappropriate Names] ------------------------------------------------------------ Please dont use any inappropriate names as your user name or faction. I dont mind chatting having curse words, we're adults. Just dont direct insaults at people. ============================================= Tips: ============================================= Pristine Items ------------------------------------------------------------ Pristine items are the research currency in RoM, you'll aquire them as you gather materials from plants. All pristine gatherables have a cooldown of 5 hours untill they respawn, but will respawn in the same place. If you're not finding much of anything, look somewhere else. It may have already been explored! Each region has unique resources (and we are expanding upon that every day). ============================================= Ore Deposits ------------------------------------------------------------ Iron, and other mineral deposits work a little different in RoM than in vanilla. We wanted to create a vibrant economey, so deposits will not be scattered across the ground everywhere in small concentrations, like it is in vanilla. Deposits are found underneath 'Nuggets' of their respective ore, these nuggets are very easy to spot sense you'll notice a strange cluster of nuggets on the surface of where the deposit lies. Typically near mountains, but can be found in the open. These 'Mineral Deposits' are large enough to make a mineshaft for. Not everyone will have a mineral deposit or mineshaft, but you can always trade with people that do, or declare war to take it. Exploration is really important, while you're hunting for pristine resources you may stumble upon a mineral deposit! ============================================= Pristine Ore ------------------------------------------------------------ Pristine ore is found above the surface and are NOT nuggets. Pristine ore looks like 'stone piles', where ever you see stone piles you'll be able to find pristine stone. Though for Pristine Ores, you'll find them on mossy/rocky voxels and near mountains. You'll also be able to find the corresponding ore tpye lieing on the ground with the pristine ores. Much like the small stone gatherables in vanilla. =============================================";
        public override void LoadData()
        {
            if (Session != null) Session.OnSessionReady += MOTD;
        }
        public void MOTD()
        {
            MyAPIGateway.Utilities.ShowMissionScreen(screenTitle: Title, screenDescription: Description, currentObjective: "     [Alpha 0.3]", currentObjectivePrefix: "Info, Rules, and Tips.");
        }
        protected override void UnloadData()
        {
            base.UnloadData();
            if (Session != null) Session.OnSessionReady -= MOTD;
        }
    }
}